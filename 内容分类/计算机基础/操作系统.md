# 操作系统

## 进程和线程

### 进程
一个在内存中运行的应用程序。每个进程都有自己独立的一块内存空间，一个进程可以有多个线程

### 线程
进程中的一个执行任务（控制单元），负责当前进程中程序的执行。一个进程至少有一个线程，一个进程可以运行多个线程，多个线程可共享数据

### 进程和线程的区别
- 进程是操作系统资源分配的基本单位，而线程是处理器任务调度和执行的基本单位
- 每个进程都有独立的代码和数据空间（程序上下文），程序之间的切换会有较大的开销；线程可以看做轻量级的进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器（PC），线程之间切换的开销小
- 一个进程崩溃后，在保护模式下不会对其他进程产生影响，但是一个线程崩溃整个进程都死掉。所以多进程要比多线程健壮
- 如果一个进程内有多个线程，则执行过程不是一条线的，而是多条线（线程）共同完成的；线程是进程的一部分，所以线程也被称为轻权进程或者轻量级进程

## 锁
排他性访问共享数据，用于保护临界区，保护数据被有序进行处理。
Java中，不同的线程如果没有锁并且同时访问资源，在资源没来得急更新时，另外一个线程也访问了，就是造成资源错乱，无法预知操作结果（同一周操作会有多种结果，对于计算机来说是致命的）

### 为什么需要防止死锁
两个或多个进程被无限期地阻塞、相互等待的一种状态。      
死锁的四个条件
- 竞争同一个资源
- 持有资源不释放
- 不能抢占资源
- 循环使用资源
