## 1.Vue的MVVP的理解
MVVM是Model-View-ViewModel的简写

- Model：数据模型层，用来处理业务逻辑和与后端交互
- View：视图层，DOM
- ViewModel：视图模型层，用来处理Model层和View层的交互

在MVVM框架中，将View层的状态和行为抽象化，视图 UI 和业务逻辑分开，ViewModel层通过双向绑定，把View层和Model层联系起来。ViewModel会自动的来处理这些事情

View通过View-Model的DOM Listeners将事件绑定到Model 上，而Model则通过Data Bindings来管理View中的数据，View-Model从中起到一个连接的作用
Vue中VM的实现原理：

- 响应式：Object.defineProperty()来做数据劫持和响应式
- 模板解析：Vue中的render函数，来将模版转换成虚拟DOM
- 将虚拟DOM渲染成html：通过updateComponent方法实现


## 2.Vue 的响应式原理
核心是通过 ES5 的保护对象的 Object.defindeProperty 中的访问器属性中的 get 和 set 方法，data 中声明的属性都被添加了访问器属性，当读取 data 中的数据时自动调用 get 方法

- 当修改 data 中的数据时，自动调用 set 方法，检测到数据的变化，会通知观察者 Wacher
- 观察者 Wacher自动触发更新 render 当前组件（子组件不会重新渲染）,生成新的虚拟 DOM 树
- Vue 框架会遍历并对比新虚拟 DOM 树和旧虚拟 DOM 树中每个节点的差别，并记录下来，
- 加载操作，将所有记录的不同点，局部修改到真实 DOM树上

<img src="https://poetries1.gitee.io/img-repo/2021/01/15.png" alt="">

## 3.Vue如何监听数组
对Function.prototype的方法进行重写

## 4.为什么需要异步更新
因为不采用异步更新，在每次更新数据都会对当前组件进行重新渲染。所以为了性能考虑，vue 会在本轮数据更新后，再去异步更新视图。

## 5.Vue的生命周期
- beforeCreate（创建前）: 在数据观测和初始化事件还未开始,data、watcher、methods都还不存在，但是$route已存在，可以根据路由信息进行重定向等操作。

- created(创建后)：在实例创建之后被调用，该阶段可以访问data，使用watcher、events、methods，也就是说 数据观测(data observer) 和event/watcher 事件配置 已完成。但是此时dom还没有被挂载。该阶段允许执行http请求操作。

- beforeMount （挂载前）：将HTML解析生成AST节点，再根据AST节点动态生成渲染函数。相关render函数首次被调用(划重点)

- mounted (挂载后)：在挂载完成之后被调用，执行render函数生成虚拟dom，创建真实dom替换虚拟dom，并挂载到实例。可以操作dom，比如事件监听

- beforeUpdate：vm.data更新之后，虚拟dom重新渲染之前被调用。在这个钩子可以修改vm.data更新之后，虚拟dom重新渲染之前被调用。在这个钩子可以修改vm.data更新之后，虚拟dom重新渲染之前被调用。在这个钩子可以修改vm.data，并不会触发附加的冲渲染过程。

- updated：虚拟dom重新渲染后调用，若再次修改$vm.data，会再次触发beforeUpdate、updated，进入死循环。

- beforeDestroy：实例被销毁前调用，也就是说在这个阶段还是可以调用实例的。

- destroyed：实例被销毁后调用，所有的事件监听器已被移除，子实例被销毁

## 6.父子组件生命周期
- 初次渲染：
父beforeCreate->父created->父beforeMount->子beforeCreate->子created->子beforeMount->子mounted->父mounted

- 子更新：
父beforeUpdate->子beforeUpdate->子updated->父updated

- 父组件更新过程：
父beforeUpdate->父updated

- 销毁过程：
父beforeDestroy->子beforeDestroy->子destroyed->父destroyed

> 父组件真正完成操作前，需要先完成子组件操作

## 7.vue中父子组件通信
- props父组件单向的向子组件传递数据
- 子组件$emit向父组件传递事件和数据，父组件中给子标签绑定监听对应事件方法
- v-model 就是 props 然后子组件数据变化触发$emit通知父组件更改传递过了的值，实现v-model，.sync实现语法糖
- 父组件给子标签绑定ref属性，或者子组件访问$parent
- provide和inject(高阶组件/组件库用的较多)、$listener 
- vuex