## 节流
```javascript
//加锁版本
function throttle(callback, delay) {
    let timer = false
    return function(...args) {
        if(!timer) {
            timer = true
            setTimeout(()=>{
                callback.apply(this, args)
                timer = false
            }, delay)
        }   
    }
}

//定时器版本
function throttle(callback, delay) {
    let lastTime = new Date()
    return function(...args) {
        let nowTime = new Date()
        let spaceTime = nowTime - lastTime
        if(spaceTime >= delay) {
            callback.call(this, ...args)
            lastTime = nowTime
        }
    }
}
```

## 防抖
```javascript
function debounce(callback, delay) {
    let timer = null
    return function(...args) {
        if(timer) clearTimeout(timer)
        timer = setTimeout(()=>{
            callback.apply(this, args)
        }, delay)
    }
}
```

## 组合版本的节流和防抖
```javascript
const throttle = (function() {
    //这个函数能都确保，在原节流函数之上，如果未到delay时间之内的操作，也算做一次
    function throttle(callback, delay) {
        let lastTime = new Date()
        let timer = null
        return function () {
            let nowTime = new Date()
            let spacing = nowTime - lastTime
            let args = Array.prototype.slice.call(arguments)
            if(timer) clearTimeout(timer)
            if(spacing >= delay) {
                callback.apply(this, args)
                lastTime = nowTime
            }else {
                timer = setTimeout(() => {
                    callback.apply(this, args)
                }, delay);
            }
        }
    }
})()
```
